{"ast":null,"code":"import _toConsumableArray from\"/Users/pruthakulkarni/GIT/WebSockets-based-calculation-broadcast/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/pruthakulkarni/GIT/WebSockets-based-calculation-broadcast/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pruthakulkarni/GIT/WebSockets-based-calculation-broadcast/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pruthakulkarni/GIT/WebSockets-based-calculation-broadcast/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pruthakulkarni/GIT/WebSockets-based-calculation-broadcast/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Calculator from\"./Calculator\";import SharedPanel from\"./SharedPanel\";import io from'socket.io-client';var IPAddr=\"192.168.0.7\";var socket=io(\"http://\"+IPAddr+\":4000\");var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={sharedText:[]};_this.emitSocketEvent=function(text){socket.emit(\"sendMessageToServer\",text);};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;socket.on(\"messageFromServer\",function(value){var arrCalc=[].concat(_toConsumableArray(_this2.state.sharedText),[value]);if(arrCalc.length>10){arrCalc.splice(0,1);}_this2.setState({sharedText:arrCalc});});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){socket.emit(\"disconnect\");}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col align-self-center\"},/*#__PURE__*/React.createElement(Calculator,{emitEvent:this.emitSocketEvent})),/*#__PURE__*/React.createElement(\"div\",{className:\"col align-self-center\"},/*#__PURE__*/React.createElement(SharedPanel,{displayText:this.state.sharedText}))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/pruthakulkarni/GIT/WebSockets-based-calculation-broadcast/src/components/App.js"],"names":["React","Calculator","SharedPanel","io","IPAddr","socket","App","state","sharedText","emitSocketEvent","text","emit","on","value","arrCalc","length","splice","setState","Component"],"mappings":"24BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,EAAP,KAAe,kBAAf,CAEA,GAAMC,CAAAA,MAAM,CAAG,aAAf,CACA,GAAMC,CAAAA,MAAM,CAAGF,EAAE,CAAC,UAAYC,MAAZ,CAAqB,OAAtB,CAAjB,C,GAEME,CAAAA,G,2TACJC,K,CAAQ,CAACC,UAAU,CAAE,EAAb,C,OAERC,e,CAAkB,SAACC,IAAD,CAAS,CACzBL,MAAM,CAACM,IAAP,CAAY,qBAAZ,CAAmCD,IAAnC,EACD,C,4FAEkB,iBACjBL,MAAM,CAACO,EAAP,CAAU,mBAAV,CAA+B,SAACC,KAAD,CAAS,CACtC,GAAIC,CAAAA,OAAO,8BAAO,MAAI,CAACP,KAAL,CAAWC,UAAlB,GAA8BK,KAA9B,EAAX,CACA,GAAGC,OAAO,CAACC,MAAR,CAAiB,EAApB,CAAuB,CACrBD,OAAO,CAACE,MAAR,CAAe,CAAf,CAAiB,CAAjB,EACD,CACD,MAAI,CAACC,QAAL,CAAc,CAACT,UAAU,CAAEM,OAAb,CAAd,EACD,CAND,EAOD,C,mEAGqB,CACpBT,MAAM,CAACM,IAAP,CAAY,YAAZ,EACD,C,uCAEO,CAEN,mBACE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,uBAAf,eACE,oBAAC,UAAD,EAAY,SAAS,CAAE,KAAKF,eAA5B,EADF,CADF,cAIE,2BAAK,SAAS,CAAC,uBAAf,eACE,oBAAC,WAAD,EAAa,WAAW,CAAE,KAAKF,KAAL,CAAWC,UAArC,EADF,CAJF,CADF,CADF,CAaD,C,iBArCeR,KAAK,CAACkB,S,EAwCxB,cAAeZ,CAAAA,GAAf","sourcesContent":["import React from 'react';\nimport Calculator from \"./Calculator\"\nimport SharedPanel from \"./SharedPanel\"\nimport io from 'socket.io-client';\n\nconst IPAddr = \"192.168.0.7\";\nconst socket = io(\"http://\" + IPAddr + \":4000\");\n\nclass App extends React.Component {\n  state = {sharedText: []};\n\n  emitSocketEvent = (text) =>{\n    socket.emit(\"sendMessageToServer\", text);\n  }\n\n  componentDidMount(){\n    socket.on(\"messageFromServer\", (value)=>{\n      let arrCalc = [...this.state.sharedText, value];\n      if(arrCalc.length > 10){\n        arrCalc.splice(0,1);\n      }\n      this.setState({sharedText: arrCalc});\n    });\n  }\n\n\n  componentWillUnmount(){\n    socket.emit(\"disconnect\");\n  }\n\n  render(){\n\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col align-self-center\">\n            <Calculator emitEvent={this.emitSocketEvent}></Calculator>\n          </div>\n          <div className=\"col align-self-center\">\n            <SharedPanel displayText={this.state.sharedText}></SharedPanel>\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}