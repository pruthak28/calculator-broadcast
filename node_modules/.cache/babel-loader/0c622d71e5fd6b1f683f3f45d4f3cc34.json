{"ast":null,"code":"import _classCallCheck from\"/Users/pruthakulkarni/GIT/WebSockets-based-calculation-broadcast/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pruthakulkarni/GIT/WebSockets-based-calculation-broadcast/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pruthakulkarni/GIT/WebSockets-based-calculation-broadcast/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pruthakulkarni/GIT/WebSockets-based-calculation-broadcast/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Button from\"./Button\";var Calculator=/*#__PURE__*/function(_React$Component){_inherits(Calculator,_React$Component);var _super=_createSuper(Calculator);function Calculator(){var _this;_classCallCheck(this,Calculator);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.arrNum=[0,1,2,3,4,5,6,7,8,9];_this.arrOps=[\"Clear\",\"Delete\",\"+\",\"-\",\"/\",\"*\",\"%\",\"=\"];_this.state={text:\"\",invalid:\"\",res:\"\"};_this.createButtons=function(arr){return arr.map(function(item){if(isNaN(item)&&item.length===1)return/*#__PURE__*/React.createElement(Button,{key:item,displayText:item,addClass:\"btnOps\",buttonClicked:_this.performOperation});else return/*#__PURE__*/React.createElement(Button,{key:item,displayText:item,buttonClicked:_this.performOperation});});};_this.performOperation=function(btnPressed,isOP){if(_this.state.invalid===\"\"){switch(btnPressed){case\"Clear\":_this.setState({text:\"\",invalid:\"\",res:\"\"});break;case\"Delete\":var typedtext=_this.state.text;typedtext=typedtext.substring(0,typedtext.length-1);_this.setState({text:typedtext,invalid:\"\",res:\"\"});break;case\"=\":// console.log(this.isOP(this.state.text.substring(this.state.text.lastIndexOf(\" \"), this.state.text.length).trim()));\n// console.log(this.state.text.substring(0,this.state.text.lastIndexOf(\" \")));\nif(_this.isOP(_this.state.text.substring(_this.state.text.lastIndexOf(\" \"),_this.state.text.length).trim()))_this.setState({text:_this.state.text.substring(0,_this.state.text.lastIndexOf(\" \")),invalid:\"\"});var tokens;setTimeout(function(){tokens=_this.state.text.split(\" \");for(var i=0;i<tokens.length;i++){tokens[i]=isNaN(tokens[i])?tokens[i]:Number(tokens[i]);}try{// console.log();\nvar temp=tokens.join(\" \");_this.props.emitEvent(temp+\" = \"+eval(temp));_this.setState({text:\"\",res:eval(temp).toString()});}catch(ex){console.log(ex.toString());}},10);break;default:if(_this.state.text===\"\"&&isOP)_this.setState({text:\"0 \".concat(btnPressed),invalid:\"\"});else{if(isOP&&_this.isOP(_this.state.text.substring(_this.state.text.lastIndexOf(\" \"),_this.state.text.length).trim())){_this.setState({text:\"\".concat(_this.state.text.substring(0,_this.state.text.length-2),\" \").concat(btnPressed),invalid:\"\"});}else{// console.log(this.state.text);\nif(!isNaN(_this.state.text.substring(_this.state.text.length-1,_this.state.text.length))&&!isOP)_this.setState({text:\"\".concat(_this.state.text).concat(btnPressed),invalid:\"\"});else _this.setState({text:\"\".concat(_this.state.text,\" \").concat(btnPressed),invalid:\"\"});}}break;}}else{_this.setState({text:_this.state.invalid});}};_this.isOP=function(operator){if(operator===\"+\"||operator===\"-\"||operator===\"*\"||operator===\"/\"||operator===\"%\")return true;else return false;};return _this;}_createClass(Calculator,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"card outerCard\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-header\"},/*#__PURE__*/React.createElement(\"textarea\",{className:\"txtArea\",placeholder:\"\",rows:\"1\",disabled:true,value:this.state.text===\"\"?this.state.res:this.state.text})),/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-text\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card mb-3 innerCard\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row no-gutters\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},this.createButtons(this.arrNum))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card-body\"},this.createButtons(this.arrOps))))))));}}]);return Calculator;}(React.Component);export default Calculator;","map":{"version":3,"sources":["/Users/pruthakulkarni/GIT/WebSockets-based-calculation-broadcast/src/components/Calculator.js"],"names":["React","Button","Calculator","arrNum","arrOps","state","text","invalid","res","createButtons","arr","map","item","isNaN","length","performOperation","btnPressed","isOP","setState","typedtext","substring","lastIndexOf","trim","tokens","setTimeout","split","i","Number","temp","join","props","emitEvent","eval","toString","ex","console","log","operator","Component"],"mappings":"4sBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,GAEMC,CAAAA,U,uVACJC,M,CAAS,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAU,CAAV,CAAa,CAAb,CAAgB,CAAhB,CAAmB,CAAnB,CAAsB,CAAtB,CAAyB,CAAzB,CAA4B,CAA5B,C,OACTC,M,CAAS,CAAC,OAAD,CAAS,QAAT,CAAkB,GAAlB,CAAsB,GAAtB,CAA0B,GAA1B,CAA8B,GAA9B,CAAkC,GAAlC,CAAuC,GAAvC,C,OACTC,K,CAAQ,CAACC,IAAI,CAAC,EAAN,CAAUC,OAAO,CAAC,EAAlB,CAAsBC,GAAG,CAAE,EAA3B,C,OAERC,a,CAAgB,SAACC,GAAD,CAAS,CAEvB,MAAOA,CAAAA,GAAG,CAACC,GAAJ,CAAQ,SAACC,IAAD,CAAQ,CACrB,GAAGC,KAAK,CAACD,IAAD,CAAL,EAAeA,IAAI,CAACE,MAAL,GAAgB,CAAlC,CACE,mBAAO,oBAAC,MAAD,EAAQ,GAAG,CAAEF,IAAb,CAAmB,WAAW,CAAEA,IAAhC,CAAsC,QAAQ,CAAC,QAA/C,CAAwD,aAAa,CAAE,MAAKG,gBAA5E,EAAP,CADF,IAGE,oBAAO,oBAAC,MAAD,EAAQ,GAAG,CAAEH,IAAb,CAAmB,WAAW,CAAEA,IAAhC,CAAsC,aAAa,CAAE,MAAKG,gBAA1D,EAAP,CACH,CALM,CAAP,CAMD,C,OAEDA,gB,CAAmB,SAACC,UAAD,CAAaC,IAAb,CAAqB,CACtC,GAAG,MAAKZ,KAAL,CAAWE,OAAX,GAAuB,EAA1B,CACA,CACE,OAAOS,UAAP,EACE,IAAK,OAAL,CACE,MAAKE,QAAL,CAAc,CAACZ,IAAI,CAAC,EAAN,CAAUC,OAAO,CAAE,EAAnB,CAAuBC,GAAG,CAAE,EAA5B,CAAd,EACA,MACF,IAAK,QAAL,CACE,GAAIW,CAAAA,SAAS,CAAG,MAAKd,KAAL,CAAWC,IAA3B,CACAa,SAAS,CAAGA,SAAS,CAACC,SAAV,CAAoB,CAApB,CAAuBD,SAAS,CAACL,MAAV,CAAiB,CAAxC,CAAZ,CACA,MAAKI,QAAL,CAAc,CAACZ,IAAI,CAACa,SAAN,CAAiBZ,OAAO,CAAE,EAA1B,CAA8BC,GAAG,CAAE,EAAnC,CAAd,EACA,MACF,IAAK,GAAL,CACA;AACA;AACE,GAAG,MAAKS,IAAL,CAAU,MAAKZ,KAAL,CAAWC,IAAX,CAAgBc,SAAhB,CAA0B,MAAKf,KAAL,CAAWC,IAAX,CAAgBe,WAAhB,CAA4B,GAA5B,CAA1B,CAA4D,MAAKhB,KAAL,CAAWC,IAAX,CAAgBQ,MAA5E,EAAoFQ,IAApF,EAAV,CAAH,CACE,MAAKJ,QAAL,CAAc,CAACZ,IAAI,CAAE,MAAKD,KAAL,CAAWC,IAAX,CAAgBc,SAAhB,CAA0B,CAA1B,CAA4B,MAAKf,KAAL,CAAWC,IAAX,CAAgBe,WAAhB,CAA4B,GAA5B,CAA5B,CAAP,CAAsEd,OAAO,CAAE,EAA/E,CAAd,EAEF,GAAIgB,CAAAA,MAAJ,CACAC,UAAU,CAAC,UAAI,CACbD,MAAM,CAAG,MAAKlB,KAAL,CAAWC,IAAX,CAAgBmB,KAAhB,CAAsB,GAAtB,CAAT,CACA,IAAI,GAAIC,CAAAA,CAAC,CAAC,CAAV,CAAYA,CAAC,CAACH,MAAM,CAACT,MAArB,CAA4BY,CAAC,EAA7B,EACEH,MAAM,CAACG,CAAD,CAAN,CAAYb,KAAK,CAACU,MAAM,CAACG,CAAD,CAAP,CAAL,CAAmBH,MAAM,CAACG,CAAD,CAAzB,CAA+BC,MAAM,CAACJ,MAAM,CAACG,CAAD,CAAP,CAAjD,CADF,CAGA,GAAG,CACD;AACA,GAAIE,CAAAA,IAAI,CAAGL,MAAM,CAACM,IAAP,CAAY,GAAZ,CAAX,CACA,MAAKC,KAAL,CAAWC,SAAX,CAAqBH,IAAI,CAAG,KAAP,CAAeI,IAAI,CAACJ,IAAD,CAAxC,EACA,MAAKV,QAAL,CAAc,CAACZ,IAAI,CAAE,EAAP,CAAWE,GAAG,CAAEwB,IAAI,CAACJ,IAAD,CAAL,CAAaK,QAAb,EAAf,CAAd,EACD,CACD,MAAMC,EAAN,CAAS,CACPC,OAAO,CAACC,GAAR,CAAYF,EAAE,CAACD,QAAH,EAAZ,EACD,CAEF,CAfS,CAeR,EAfQ,CAAV,CAgBA,MACF,QACE,GAAG,MAAK5B,KAAL,CAAWC,IAAX,GAAoB,EAApB,EAA0BW,IAA7B,CAAmC,MAAKC,QAAL,CAAc,CAACZ,IAAI,aAAMU,UAAN,CAAL,CAAyBT,OAAO,CAAE,EAAlC,CAAd,EAAnC,IACK,CACH,GAAGU,IAAI,EAAI,MAAKA,IAAL,CAAU,MAAKZ,KAAL,CAAWC,IAAX,CAAgBc,SAAhB,CAA0B,MAAKf,KAAL,CAAWC,IAAX,CAAgBe,WAAhB,CAA4B,GAA5B,CAA1B,CAA4D,MAAKhB,KAAL,CAAWC,IAAX,CAAgBQ,MAA5E,EAAoFQ,IAApF,EAAV,CAAX,CAAmH,CAClH,MAAKJ,QAAL,CAAc,CAACZ,IAAI,WAAI,MAAKD,KAAL,CAAWC,IAAX,CAAgBc,SAAhB,CAA0B,CAA1B,CAA4B,MAAKf,KAAL,CAAWC,IAAX,CAAgBQ,MAAhB,CAAuB,CAAnD,CAAJ,aAA6DE,UAA7D,CAAL,CAAgFT,OAAO,CAAE,EAAzF,CAAd,EACA,CAFD,IAGI,CACF;AACA,GAAG,CAACM,KAAK,CAAC,MAAKR,KAAL,CAAWC,IAAX,CAAgBc,SAAhB,CAA0B,MAAKf,KAAL,CAAWC,IAAX,CAAgBQ,MAAhB,CAAuB,CAAjD,CAAoD,MAAKT,KAAL,CAAWC,IAAX,CAAgBQ,MAApE,CAAD,CAAN,EAAuF,CAACG,IAA3F,CACE,MAAKC,QAAL,CAAc,CAACZ,IAAI,WAAI,MAAKD,KAAL,CAAWC,IAAf,SAAsBU,UAAtB,CAAL,CAAyCT,OAAO,CAAE,EAAlD,CAAd,EADF,IAEK,OAAKW,QAAL,CAAc,CAACZ,IAAI,WAAI,MAAKD,KAAL,CAAWC,IAAf,aAAuBU,UAAvB,CAAL,CAA0CT,OAAO,CAAE,EAAnD,CAAd,EACN,CACF,CACD,MA9CJ,CAgDD,CAlDD,IAmDI,CACF,MAAKW,QAAL,CAAc,CAACZ,IAAI,CAAE,MAAKD,KAAL,CAAWE,OAAlB,CAAd,EACD,CACF,C,OAEDU,I,CAAO,SAACoB,QAAD,CAAc,CACnB,GAAGA,QAAQ,GAAK,GAAb,EAAoBA,QAAQ,GAAK,GAAjC,EAAwCA,QAAQ,GAAK,GAArD,EAA4DA,QAAQ,GAAK,GAAzE,EAAgFA,QAAQ,GAAK,GAAhG,CAAqG,MAAO,KAAP,CAArG,IACK,OAAO,MAAP,CACN,C,6EAEO,CAEN,mBACE,2BAAK,SAAS,CAAC,gBAAf,eACE,2BAAK,SAAS,CAAC,aAAf,eACE,gCACE,SAAS,CAAC,SADZ,CAEE,WAAW,CAAC,EAFd,CAGE,IAAI,CAAC,GAHP,CAIE,QAAQ,KAJV,CAKE,KAAK,CAAE,KAAKhC,KAAL,CAAWC,IAAX,GAAoB,EAApB,CAAyB,KAAKD,KAAL,CAAWG,GAApC,CAA0C,KAAKH,KAAL,CAAWC,IAL9D,EADF,CADF,cAUE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,WAAf,eACE,2BAAK,SAAS,CAAC,qBAAf,eACC,2BAAK,SAAS,CAAC,gBAAf,eACE,2BAAK,SAAS,CAAC,UAAf,eACC,2BAAK,SAAS,CAAC,WAAf,EACE,KAAKG,aAAL,CAAmB,KAAKN,MAAxB,CADF,CADD,CADF,cAME,2BAAK,SAAS,CAAC,UAAf,eACE,2BAAK,SAAS,CAAC,WAAf,EACG,KAAKM,aAAL,CAAmB,KAAKL,MAAxB,CADH,CADF,CANF,CADD,CADF,CADF,CAVF,CADF,CAgCD,C,wBA/GsBJ,KAAK,CAACsC,S,EAkH/B,cAAepC,CAAAA,UAAf","sourcesContent":["import React from \"react\";\nimport Button from \"./Button\";\n\nclass Calculator extends React.Component{\n  arrNum = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n  arrOps = [\"Clear\",\"Delete\",\"+\",\"-\",\"/\",\"*\",\"%\", \"=\"];\n  state = {text:\"\", invalid:\"\", res: \"\"};\n\n  createButtons = (arr) => {\n\n    return arr.map((item)=>{\n      if(isNaN(item) && item.length === 1)\n        return <Button key={item} displayText={item} addClass=\"btnOps\" buttonClicked={this.performOperation}></Button>\n      else\n        return <Button key={item} displayText={item} buttonClicked={this.performOperation}></Button>\n    });\n  }\n\n  performOperation = (btnPressed, isOP) =>{\n    if(this.state.invalid === \"\")\n    {\n      switch(btnPressed){\n        case \"Clear\":\n          this.setState({text:\"\", invalid: \"\", res: \"\"});\n          break;\n        case \"Delete\":\n          let typedtext = this.state.text;\n          typedtext = typedtext.substring(0, typedtext.length-1);\n          this.setState({text:typedtext, invalid: \"\", res: \"\"});\n          break;\n        case \"=\":\n        // console.log(this.isOP(this.state.text.substring(this.state.text.lastIndexOf(\" \"), this.state.text.length).trim()));\n        // console.log(this.state.text.substring(0,this.state.text.lastIndexOf(\" \")));\n          if(this.isOP(this.state.text.substring(this.state.text.lastIndexOf(\" \"), this.state.text.length).trim()))\n            this.setState({text: this.state.text.substring(0,this.state.text.lastIndexOf(\" \")), invalid: \"\"});\n\n          let tokens;\n          setTimeout(()=>{\n            tokens = this.state.text.split(\" \");\n            for(var i=0;i<tokens.length;i++)\n              tokens[i] = isNaN(tokens[i]) ? tokens[i] : Number(tokens[i]);\n\n            try{\n              // console.log();\n              let temp = tokens.join(\" \");\n              this.props.emitEvent(temp + \" = \" + eval(temp));\n              this.setState({text: \"\", res:(eval(temp)).toString() });\n            }\n            catch(ex){\n              console.log(ex.toString());\n            }\n\n          },10)\n          break;\n        default:\n          if(this.state.text === \"\" && isOP) this.setState({text:`0 ${btnPressed}`, invalid: \"\"});\n          else {\n            if(isOP && this.isOP(this.state.text.substring(this.state.text.lastIndexOf(\" \"), this.state.text.length).trim())  ){\n             this.setState({text:`${this.state.text.substring(0,this.state.text.length-2)} ${btnPressed}`, invalid: \"\"});\n            }\n            else{\n              // console.log(this.state.text);\n              if(!isNaN(this.state.text.substring(this.state.text.length-1, this.state.text.length)) && !isOP)\n                this.setState({text:`${this.state.text}${btnPressed}`, invalid: \"\"});\n              else this.setState({text:`${this.state.text} ${btnPressed}`, invalid: \"\"});\n            }\n          }\n          break;\n      }\n    }\n    else{\n      this.setState({text: this.state.invalid});\n    }\n  }\n\n  isOP = (operator) => {\n    if(operator === \"+\" || operator === \"-\" || operator === \"*\" || operator === \"/\" || operator === \"%\") return true;\n    else return false;\n  }\n\n  render(){\n\n    return(\n      <div className=\"card outerCard\">\n        <div className=\"card-header\">\n          <textarea\n            className=\"txtArea\"\n            placeholder=\"\"\n            rows=\"1\"\n            disabled\n            value={this.state.text === \"\" ? this.state.res : this.state.text }\n          ></textarea>\n        </div>\n        <div className=\"card-body\">\n          <div className=\"card-text\">\n            <div className=\"card mb-3 innerCard\">\n             <div className=\"row no-gutters\">\n               <div className=\"col-md-6\">\n                <div className=\"card-body\">\n                 {this.createButtons(this.arrNum)}\n                </div>\n               </div>\n               <div className=\"col-md-6\">\n                 <div className=\"card-body\">\n                   {this.createButtons(this.arrOps)}\n                 </div>\n               </div>\n             </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n}\n\nexport default Calculator;\n"]},"metadata":{},"sourceType":"module"}